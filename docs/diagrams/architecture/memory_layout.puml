@startuml memory_layout
!theme plain
title MSP430 Memory Layout (16-bit Address Space)

scale 800 width

rectangle "MSP430 Memory Map\n(0x0000 - 0xFFFF)" as MEMORY {
    
    rectangle "Special Function Registers\n0x0000 - 0x00FF\n256 bytes" as SFR #lightblue
    note right of SFR : Read/Write\nSystem control registers
    
    rectangle "8-bit Peripherals\n0x0100 - 0x01FF\n256 bytes" as PER8 #lightgreen
    note right of PER8 : Read/Write\nMemory-mapped 8-bit peripherals
    
    rectangle "16-bit Peripherals\n0x0200 - 0x027F\n128 bytes" as PER16 #lightgreen
    note right of PER16 : Read/Write\nMemory-mapped 16-bit peripherals
    
    rectangle "Unused\n0x0280 - 0x03FF\n384 bytes" as UNUSED1 #lightgray
    note right of UNUSED1 : No access\nUnmapped address space
    
    rectangle "Bootstrap Loader\n0x0400 - 0x09FF\n1536 bytes" as BSL #orange
    note right of BSL : Read/Execute\nBootstrap loader flash
    
    rectangle "Unused\n0x0A00 - 0x0FFF\n1536 bytes" as UNUSED2 #lightgray
    note right of UNUSED2 : No access\nUnmapped address space
    
    rectangle "Information Memory\n0x1000 - 0x10FF\n256 bytes" as INFO #yellow
    note right of INFO : Read/Write\nDevice calibration data
    
    rectangle "Unused\n0x1100 - 0x38FF\n10240 bytes" as UNUSED3 #lightgray
    note right of UNUSED3 : No access\nUnmapped address space
    
    rectangle "RAM\n0x3900 - 0x3AFF\n512 bytes" as RAM #lightpink
    note right of RAM : Read/Write/Execute\nRandom Access Memory
    
    rectangle "Flash Memory\n0x3B00 - 0xFFDF\n50912 bytes" as FLASH #lightyellow
    note right of FLASH : Read/Execute\nMain program memory
    
    rectangle "Interrupt Vector Table\n0xFFE0 - 0xFFFF\n32 bytes" as IVT #red
    note right of IVT : Read/Execute\nInterrupt service routine addresses
}

' Add address labels
note top of MEMORY : Address Space: 64KB (65536 bytes)

' Color legend
legend bottom
    |Color |Region Type |Permissions |
    |<#lightblue>| Registers | Read/Write |
    |<#lightgreen>| Peripherals | Read/Write |
    |<#orange>| Bootstrap Loader | Read/Execute |
    |<#yellow>| Information Memory | Read/Write |
    |<#lightpink>| RAM | Read/Write/Execute |
    |<#lightyellow>| Flash Memory | Read/Execute |
    |<#red>| Interrupt Vectors | Read/Execute |
    |<#lightgray>| Unused | No Access |
endlegend

@enduml