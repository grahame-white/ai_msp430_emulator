# 1.12 Device-Specific Configurations

The following sections describe the device-specific configurations.

## 1.12.1 MSP430FR413x and MSP430FR203x Configurations

This section describes the configurations that are specific to MSP430FR413x and MSP430FR203x devices.

### 1.12.1.1 FRAM Write Protection

The FRAM protection allows users to protect user code and data from accidental write operation. The write operation to
main code FRAM and information FRAM are protected by the `PFWP` and `DFWP` bits, respectively, in the `SYSCFG0`
register. After a PUC reset, both bits default to 1 and writes to FRAM are disabled. User code must clear the
corresponding bit before write operation. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

### 1.12.1.2 Infrared Modulation Function

The SYS module includes IR modulation logic that the device can use to easily generate accurately modulated IR
waveforms, such as RC-5 data format, directly on a external output pin. [Figure 1-6](#figure-1-6) shows the detailed of
the circuitry implementation. Set the `IREN` bit in the `SYSCFG1` register to enable the logic. If `IREN` is cleared,
this function is bypassed and the external pin defaults to general-purpose I/O.

This function has two different PWM input signals to support either ASK or FSK modulations. In ASK modulation, the
first PWM is used for carrier generation and the second generates the envelope. In FSK modulation, the first PWM and
the second PWM represent the two different offset frequencies. The `IRMSEL` bit in `SYSCFG1` register specifies the
selected mode. Before the modulated data is output to the external pin, the signal can be inverted by setting the
`IRPSEL` bit in `SYSCFG1` register for adapting to different external drive circuitry.

The IR modulation function can be used with data generated by either hardware or software. In hardware data generation,
the data comes from eUSCI_A and the 8-bit data is automatically serially sent. In software data generation, `IRDATA`
bit in `SYSCFG1` register is used to control the logic 0 or 1 to be sent. The `IRDSSEL` bit in `SYSCFG1` registers
control the data flow from hardware or firmware.

<a id="figure-1-6"></a>

![Figure 1-6. IR Modulation Combinatory Logic](/images/fr4xx_fr2xx_family_user_guide/figure_1-6.jpg)

**Figure 1-6. IR Modulation Combinatory Logic**

### 1.12.1.3 ADC Pin Enable and 1.2V Reference Settings

ADC pins are multiplexed with I/O functions. When the ADC channel is used, the I/O function must be disabled to avoid
function conflicts over these pins: A0 to A11. Set the `ADCPTCLx` bit in the `SYSCFG2` register to disable the I/O
functions. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

When ADC A4 channel is enabled, the 1.2V on-chip reference can be output to P1.4 by setting `PMM` registers (see
[Figure 1-7](#figure-1-7) and the [PMM Chapter]()).

<a id="figure-1-7"></a>

![Figure 1-7. 1.2V Reference Output on A4](/images/figure_1-7.jpg)

**Figure 1-7. 1.2V Reference Output on A4**

### 1.12.1.4 LCD Power Pin Enable

In MSP430FR413x devices, LCD power pins are multiplexed with I/O functions. When LCD is used, the I/O function must be
disabled to avoid function conflicts on these pins: `LCDCAP0`, `LCDCAP1`, `R13`, `R23`, `R33`. Set the `LCDPCTL` bit in
`SYSCFG2` register to disable the I/O functions and enable the LCD power functions (see
[Section 1.16.2.3](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#11623-devices-without-smart-analog-combo-syscfg2-register-offset--04h-reset--0000h)).

## 1.12.2 MSP430FR2433 Configurations

This section describes the configurations that are specific to MSP430FR2433 device.

## 1.12.2.1 FRAM Write Protection

The FRAM protection allows users to protect user code and data from accidental write operation. The write operation to
main code FRAM and information FRAM are protected by the `PFWP` and `DFWP` bits, respectively, in the `SYSCFG0`
register. After a PUC reset, both bits default to 1 and writes to FRAM are disabled. User code must write correct
password and clear the corresponding bit before write operation. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

## 1.12.2.2 Infrared Modulation Function

The SYS module includes IR modulation logic that can easily generate accurately modulated IR waveforms, such as RC-5
data format, directly on a external output pin. [Figure 1-8](#figure-1-8) shows the detailed of the circuitry
implementation. Set the `IREN` bit in the `SYSCFG1` register to enable the logic. If `IREN` is cleared, this function
is bypassed, and the external pin defaults to general-purpose I/O.

This function has two different PWM input signals to support either ASK or FSK modulations. In ASK modulation, the
first PWM is used for carrier generation and the second generates the envelope. In FSK modulation, the first PWM and
the second PWM represent the two different offset frequencies. The `IRMSEL` bit in `SYSCFG1` register specifies the
selected mode. Before the modulated data is output to the external pin, the signal can be inverted by setting the
`IRPSEL` bit in `SYSCFG1` register for adapting to different external drive circuitry.

The IR modulation function can be used with data generated by either hardware or software. In hardware data generation,
the data comes from eUSCI_A or eUSCI_B and the 8-bit data is automatically serially sent. In software data generation,
`IRDATA` bit in `SYSCFG1` register is used to control the logic 0 or 1 to be sent. The `IRDSSEL` bit in `SYSCFG1`
registers control the data flow from hardware or firmware.

<a id="figure-1-8"></a>

![Figure 1-8. IR Modulation Combinatory Logic](/images/figure_1-8.jpg)

**Figure 1-8. IR Modulation Combinatory Logic**

## 1.12.2.3 ADC Pin Enable and 1.2V Reference Settings

ADC pins are multiplexed with I/O functions. When the ADC channel is used, the I/O function must be disabled to avoid
function conflicts over these pins: A0 to A11. Set the `ADCPTCLx` bit in the `SYSCFG2` register to disable the I/O
functions. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

When the A4 channel of the ADC is enabled, the 1.2V on-chip reference can be output to P1.4 by setting `PMM` registers
(see [Figure 1-9](#figure-1-9) and the [PMM Chapter]()).

<a id="figure-1-9"></a>

![Figure 1-9. 1.2V Reference Output on A4](/images/figure_1-9.jpg)

**Figure 1-9. 1.2V Reference Output on A4**

## 1.12.3 MSP430FR263x and MSP430FR253x Configurations

This section describes the configurations that are specific to MSP430FR263x and FR253x devices.

## 1.12.3.1 FRAM Write Protection

The FRAM protection allows users to protect user code and data from accidental write operation. The write operation to
main code FRAM and information FRAM are protected by the `PFWP` and `DFWP` bits, respectively, in the `SYSCFG0`
register. After a PUC reset, both bits default to 1 and writes to FRAM are disabled. User code must write correct
password and clear the corresponding bit before write operation. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

## 1.12.3.2 Infrared Modulation Function

The SYS module includes IR modulation logic that the device can use to easily generate accurately modulated IR
waveforms, such as RC-5 data format, directly on a external output pin. [Figure 1-10](#figure-1-10) shows the detailed
of the circuitry implementation. Set the `IREN` bit in the `SYSCFG1` register to enable the logic. If `IREN` is
cleared, this function is bypassed and the external pin defaults to general-purpose I/O.

This function has two different PWM input signals to support either ASK or FSK modulations. In ASK modulation, the
first PWM is used for carrier generation and the second generates the envelope. In FSK modulation, the first PWM and
the second PWM represent the two different offset frequencies. The `IRMSEL` bit in `SYSCFG1` register specifies the
selected mode. Before the modulated data is output to the external pin, the signal can be inverted by setting the
`IRPSEL` bit in `SYSCFG1` register for adapting to different external drive circuitry.

The IR modulation function can be used with data generated by either hardware or software.
In hardware data generation, the data comes from eUSCI_A or eUSCI_B and the 8-bit data is automatically serially sent.
In software data generation, `IRDATA` bit in `SYSCFG1` register is used to control the logic 0 or 1 to be sent.
The `IRDSSEL` bit in `SYSCFG1` registers control the data flow from hardware or firmware.

<a id="figure-1-10"></a>

![Figure 1-10. IR Modulation Combinatory Logic](/images/fr4xx_fr2xx_family_user_guide/figure_1-10.jpg)

**Figure 1-10. IR Modulation Combinatory Logic**

## 1.12.3.3 ADC Pin Enable and 1.2V Reference Settings

ADC pins are multiplexed with I/O functions. When the ADC channel is used, the I/O function must be disabled to avoid
function conflicts over these pins: A0 to A11. Set the `ADCPTCLx` bit in the `SYSCFG2` register to disable the I/O
functions. See
[Section 1.16.2](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1162-system-configuration-registers-for-devices-without-smart-analog-combo-sac)
for register details.

When ADC A4 channel is enabled, the 1.2V on-chip reference can be output to P1.4 by setting `PMM` registers (see
[Figure 1-11](#figure-1-11) and the [`PMM` Chapter]()).

<a id="figure-1-11"></a>

![Figure 1-11. 1.2V Reference Output on A4](/images/fr4xx_fr2xx_family_user_guide/figure_1-11.jpg)

**Figure 1-11. 1.2V Reference Output on A4**

## 1.12.4 MSP430FR23xx Configurations

This section describes the configurations that are specific to MSP430FR23xx devices.

## 1.12.4.1 FRAM Write Protection

The FRAM protection allows users to protect user code from accidental write operation. The write operation to main code
FRAM is protected by the `PFWP` bit in the `SYSCFG0` register. After a PUC reset, this bit defaults to 1, and writes to
FRAM are disabled. User code must write the correct password and clear the corresponding bit before write operation.
See
[Section 1.16.1](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1161-smart-analog-combo-subfamily-system-configuration-registers)
for register details.

In MSP430FR235x devices, the program FRAM can be partially protected by an offset specified by `FRWPOA` from the
starting address of main FRAM memory. When `PFWP` is set, the main memory after this offset is protected, and the part
before this address is unprotected. This unprotected range can be used like RAM for random frequent writes. The 6-bit
`FRWPOA` can specify the offset from 0KB to 63KB with 1KB resolution. After reset, `FRWPOA` defaults to zero, and the
entire program FRAM is under the protection of `PFWP`. `FRWPOA` can be modified in parallel when `FRWPPW` is correctly
written. [Figure 1-12](#figure-1-12) shows how the data and program FRAM are protected in these devices.

<a id="figure-1-12"></a>

![Figure 1-12. Memory Protection](/images/fr4xx_fr2xx_family_user_guide/figure_1-12.jpg)

**Figure 1-12. Memory Protection**

## 1.12.4.2 Infrared Modulation Function

The SYS module includes IR modulation logic that the application can use to generate accurately modulated IR waveforms,
such as RC-5 data format, directly on a external output pin. [Figure 1-13](#figure-1-13) shows the circuitry. Set the
`IREN` bit in the `SYSCFG1` register to enable the logic. If `IREN` is cleared, this function is bypassed, and the
external pin defaults to general-purpose I/O.

The IR modulation function has two different PWM input signals to support either ASK or FSK modulations. In ASK
modulation, the first PWM is used for carrier generation, and the second PWM generates the envelope. In FSK modulation,
the first PWM and the second PWM represent the two different offset frequencies. The `IRMSEL` bit in `SYSCFG1` register
specifies the selected mode. Before the modulated data is output to the external pin, the signal can be inverted by
setting the `IRPSEL` bit in the `SYSCFG1` register for adapting to different external drive circuitry.

The IR modulation function can be used with data generated by either hardware or software. In hardware data generation,
the data comes from eUSCI_A or eUSCI_B, and the 8-bit data is automatically serially sent. In software data generation,
`IRDATA` bit in `SYSCFG1` register is used to control the logic 0 or 1 to be sent. The `IRDSSEL` bit in `SYSCFG1`
registers control the data flow from hardware or firmware.

<a id="figure-1-13"></a>

![Figure 1-13. IR Modulation Combinatory Logic](/images/fr4xx_fr2xx_family_user_guide/figure_1-13.jpg)

**Figure 1-13. IR Modulation Combinatory Logic**

## 1.12.4.3 ADC Pin Enable and 1.2V Reference Settings

ADC pins are multiplexed with I/O functions. When the ADC channel is used, the I/O function must be disabled to avoid
function conflicts over these pins: A0 to A11. Set the `PxSEL` bit in the port register to disable the I/O functions.
See the MSP430FR23xx device-specific data sheet for details.

When ADC A7 channel is enabled, the 1.2V on-chip reference can be output to P1.7 by setting `PMM` registers (see
[Figure 1-11](#figure-1-11) and the [`PMM` Chapter]()).

<a id="figure-1-14"></a>

![Figure 1-14. 1.2V Reference Output on A7](/images/fr4xx_fr2xx_family_user_guide/figure_1-14.jpg)

**Figure 1-14. 1.2V Reference Output on A7**

## 1.12.5 MSP430FR211x Configurations

This section describes the configurations that are specific to MSP430FR211x devices.

## 1.12.5.1 FRAM Write Protection

The FRAM protection allows users to protect user code from accidental write operation. The write operation to main code
FRAM is protected by the `PFWP` bit in the `SYSCFG0` register. After a PUC reset, this bit is default to 1 and writes
to FRAM is disabled. User code must write correct password and clear the corresponding bit before write operation. See
[Section 1.16.1](/fr4xx_fr2xx_family_user_guide/03_chapter_1/1.16_system_configuration_registers.md#1161-smart-analog-combo-subfamily-system-configuration-registers)
for register details.

## 1.12.5.2 Infrared Modulation Function

The SYS module includes IR modulation logic that the device can use to easily generate accurately modulated IR
waveforms directly on a external output pin. Default output is on `P1.7`/`UCA0TXD`/`UCA0SIMO`, or the output can be
changed to `P1.3`/`UCA0TXD`/`UCA0SIMO` by enabling the `USCIARMP` bit in the `SYSCFG3` register.
[Figure 1-13](#figure-1-13) shows the details of the circuitry implementation. Set the `IREN` bit in the
`SYSCFG1` register to enable the logic. If `IREN` is cleared, this function is bypassed and the external pin defaults
to general-purpose I/O.

This function has two different PWM input signals to support either ASK or part of FSK modulations. In ASK modulation,
the first PWM is used for carrier generation and the second generates the envelope. In FSK modulation, the first PWM
and the second PWM represent the two different offset frequencies. The `IRMSEL` bit in `SYSCFG1` register specifies the
selected mode. Before the modulated data is output to the external pin, the signal can be inverted by setting the
`IRPSEL` bit in `SYSCFG1` register for adapting to different external drive circuitry.

The IR modulation function can be used with data generated by either hardware or software. In hardware data
generation, the data comes from eUSCI_A or eUSCI_B and the 8-bit data is automatically serially sent. In software data
generation, `IRDATA` bit in `SYSCFG1` register is used to control the logic 0 or 1 to be sent. The `IRDSSEL` bit in
`SYSCFG1` registers control the data flow from hardware or firmware.

<a id="figure-1-15"></a>

![Figure 1-15. IR Modulation Combinatory Logic](/images/fr4xx_fr2xx_family_user_guide/figure_1-15.jpg)

**Figure 1-15. IR Modulation Combinatory Logic**

## 1.12.5.3 ADC Pin Enable and 1.2V Reference Settings

ADC pins are multiplexed with I/O functions. When the ADC channel is used, the I/O function must be disabled to avoid
function conflicts over these pins: A0 to A11. Set the `PxSEL` bit in the Port register to disable the I/O functions.
See MSP430FR231x devices specific for details.

When ADC A7 channel is enabled, the 1.2V on-chip reference can be output to `P1.7` by setting `PMM` registers (see
[Figure 1-11](#figure-1-11) and the [`PMM` Chapter]()).

<a id="figure-1-16"></a>

![Figure 1-16. 1.2V Reference Output on A7](/images/fr4xx_fr2xx_family_user_guide/figure_1-16.jpg)

**Figure 1-16. 1.2V Reference Output on A7**
